My first step on this was to work out some algebra on paper. Let a_1,a_2,...,a_n be the positions of the pegs, let g_1,g_2,...,g_n be the radii of the gears. Then in order for the gears to meet, you need to have a_{k+1} - a_k = g_{k+1} + g_{k} (call this '(eq k)', as in equation k). If you do (eq 1) - (eq 2), then you get g_1-g_3 in terms of a_1 through a_3. Add (eq 3), and you get g_1+g_4 as a function of a_1 through a_4. Keep doing this until you get g_1 +/- g_n as a function of a_1 through a_n. Add in the condition that you want g_1=2g_n as prescribed in the problem, and you can solve to get g_n as a fraction whose numerator is a weighted alternating sum of the a_i's, and whose denominator is 2+(-1)^n (ie, 1 if n is odd, 3 if n is even). 

Second step is that since it wants the answer as a reduced fraction, in the case where n is even and the denominator is 3, you need to check to see if the numerator is a multiple of 3 and reduce appropriately.

The last step is to realize that in the course of solving that system of equations, you eliminated intermediate variables g_2 through g_{n-1}, but you need to make sure that these variables are all non-negative for the unique algebraic solution to correspond to a physical solution to the problem being modeled. It's easy enough to start with g_1, and use (eq 1) to solve for g_2, and then (eq 2) to solve for g_3, and so on.